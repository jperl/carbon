<head>
  <title>Fusion</title>
  <script src="https://aframe.io/releases/latest/aframe.js"></script>
</head>

<body>
  <a-scene>
    {{> element name="hydrogen" position="-4 1 -2.5" numElectrons=1}}
    {{> element name="helium" position="4 1 -2.5" numElectrons=2}}
    <a-sky color="#FFFDF6"></a-sky>
  </a-scene>
</body>

<template name="electron">
  <a-entity rotation={{rotation}}>
    <a-sphere position="0 2.5 0" radius="0.2" rotation={{rotation}} color="#7c8cff"></a-sphere>
    <a-entity geometry="primitive: torus; radius: 2.5; radiusTubular: 0.01; segmentsTubular: 100;" material="color: #868988;"></a-entity>
  </a-entity>
</template>

<template name="orbital">
  <a-entity>
    {{#each electrons}}
      {{> electron rotation=rotation}}
    {{/each}}
    <a-animation attribute="rotation" to="0 0 360" dur="20000" easing="linear" repeat="indefinite"></a-animation>
  </a-entity>
</template>

<template name="element">
  <a-entity position={{position}}>
    {{> orbital numElectrons=numElectrons}}
    <!-- TODO show protons / neutrons instead of nucleus sphere -->
    <a-sphere position="0 0 0" radius="0.75" color="#ff7c8c"></a-sphere>
  </a-entity>
</template>
